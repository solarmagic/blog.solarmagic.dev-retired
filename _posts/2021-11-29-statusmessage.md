---
title: "ì‹ ê¸°í•œ ìƒíƒœ ë©”ì‹œì§€ ë§Œë“¤ê¸°"
date: 2021-11-29 00:00:00
categories:
- C
tags:
- Misc
---

![](https://i.imgur.com/WAxKAFN.png)

## ìƒíƒœë©”ì‹œì§€

```
double ans[]={.33066404772027283E3,1<<0xA};main(){--1[ans]?*ans/=2,main():puts(ans);}	
```

## ì‹¤í–‰ê²°ê³¼


`â˜€ğŸª„`

Cë¡œ ì»´íŒŒì¼í•´ì„œ ì‹¤í–‰í•˜ë©´ ì†”ë¼ë§¤ì§ì„ ìƒì§•í•˜ëŠ” í•´(solar)ì™€ ë§ˆë²•ë´‰(magic)ì„ ì¶œë ¥í•œë‹¤.

[ì˜¨ë¼ì¸ IDE ê²°ê³¼](https://ideone.com/9YkiOm)

## ê³„ê¸°

```
double k[]={12.596070810382761,495};main(){k[1]--?k[0]/=2,main():puts(k);}
```

Steam ì¹œêµ¬ ìê¸°ì†Œê°œì— ì´ëŸ°ê²Œ ìˆëŠ” ê²ƒì„ ë°œê²¬í–ˆë‹¤. ì‹¤í–‰í•´ë³´ë‹ˆ ê²°ê³¼ëŠ” `kcy1019!` ì‹ ê¸°í•´ì„œ ì–´ë–»ê²Œ ë§Œë“œëŠ”ì§€ë¥¼ ë¬¼ì–´ë´¤ë‹¤.

## ë§Œë“¤ê¸°

```C++
#include<cstdio>
#include<cassert>
#include<cstring>

int main(int argc, char *argv[])
{
    assert(argc > 1);
    int n = strlen(argv[1]);
    assert(n < 9);

    char buf[8] = {};
    memcpy(buf, argv[1], n);

    double v = *(double*)buf;
    int shl = 0;
    for (; v < 10; v *= 2) ++shl;
    printf("double k[]={ %.15f,%d};main(){k[1]--?k[0]/=2,main():puts(k);}", v, shl);
    return 0;
}
```

ì¹œì ˆí•˜ê²Œ ë§Œë“œëŠ” ì½”ë“œê¹Œì§€ ì œê³µí•´ì£¼ì…¨ë‹¤.

ê¸°ë³¸ì ì¸ ì›ë¦¬ëŠ” ê°„ë‹¨í•˜ë‹¤. 8ë°”ì´íŠ¸ ASCIIë¬¸ìë¥¼ í•˜ë‚˜ì˜ double(8ë°”ì´íŠ¸)ë¡œ ë‹´ì€ë‹¤ìŒì— ë³€í˜•í•˜ê³  ë‹¤ì‹œ ì¶œë ¥í•˜ëŠ” ê²ƒì´ë‹¤. long longê°™ì€ 8ë°”ì´íŠ¸ ì •ìˆ˜ë¡œ í•˜ë©´ ì¢€ ë” ì§ê´€ì ì´ë‹¤. 

### ë³€í˜•

í•˜ì§€ë§Œ ë‚´ ì´ë¦„ì€ 10ê¸€ì(solarmagic) ì´ê¸° ë•Œë¬¸ì— ê·¸ëŒ€ë¡œ ì“°ê¸°ì—ëŠ” ì¡°ê¸ˆ ë¬´ë¦¬ì˜€ë‹¤. 16ë°”ì´íŠ¸ ìë£Œí˜•ì¸ `long double`ì´ë‚˜ `__int128` ê°™ì€ ê±¸ ì‚¬ìš©í•˜ë©´ ë  ìˆ˜ë„ ìˆì§€ë§Œ ê·¸ëƒ¥ ê·¸ëŒ€ë¡œ ì¨ë¨¹ê¸°ë¡œ í–ˆë‹¤. ëŒ€ì‹  ASCIIë¬¸ìê°€ ì•„ë‹ˆë¼ ìœ ë‹ˆì½”ë“œ ë¬¸ìë¥¼ ì´ìš©í•´ì„œ ì¶œë ¥í•˜ë©´ ì¢€ ë” ë¹„ì§ê´€ì ì¸ ê²°ê³¼ê°€ ë‚˜ì˜¤ì§€ ì•Šì„ê¹Œ ìƒê°í•´ì„œ ì†”ë¼ë§¤ì§ì„ ì´ëª¨ì§€ë¡œ ì¶œë ¥í•˜ê¸°ë¡œ ë§ˆìŒ ë¨¹ì—ˆë‹¤.

`â˜€ğŸª„` ê°€ ê°€ì¥ ì ì ˆí•œ ì´ëª¨ì§€ë¡œ ë³´ì˜€ë‹¤. `â˜€`â˜€ ì´ëª¨ì§€ëŠ” í™˜ê²½ì— ë”°ë¼ì„œ ì¢€ ë§ì´ ë‹¤ë¥´ê²Œ ë³´ì´ëŠ”ê²Œ ì¡°ê¸ˆ ì•„ì‰¬ì› ì§€ë§Œ ê·¸ë˜ë„ ê°€ì¥ ì ì ˆí•œ ì´ëª¨ì§€ë¼ ìƒê°í–ˆë‹¤.

ì›ë³¸ ì½”ë“œëŠ” ì ì ˆíˆ í•œ 10.x ë˜ëŠ” ìˆ˜ë¡œ ë§Œë“¤ì–´ ì£¼ëŠ”ë° ë‚˜ëŠ” ë­”ê°€ 1024($2^{10}$)ë²ˆ ë°˜ë³µí•˜ëŠ”ê²Œ ì»´ê³µ ë‹µë‹¤ê³  ìƒê°í•´ì„œ ì½”ë“œë¥¼ ì¡°ê¸ˆ ë³€í˜• ì‹œì¼°ë‹¤.


```
double ans[]={.33066404772027283E3,1<<0xA};main(){--1[ans]?*ans/=2,main():puts(ans);}	
```

ë°°ì—´ì´ë¦„ì€ ansë¡œ ë°”ê¾¸ì—ˆê³ (PS ì‚¬ì´íŠ¸ì— ì˜¬ë¦´ê²ƒì´ê¸° ë•Œë¬¸ì— ì ì ˆí•œ ì´ë¦„ì´ë‹¤.) ë°°ì—´ ì›ì†Œë¥¼ ì§ì ‘ ì§€ì •í• ë•Œ [] ì•ˆì— ìˆ˜ë¥¼ ì•ˆì¨ë„ ë˜ëŠ” ê²ƒì€ ëª¨ë‘ ì•Œ ê²ƒì´ë‹¤.

ê·¸ë°–ì— ì½”ë“œë¥¼ ë³´ë©´ ì‹¤ìˆ˜ë¥¼ ê·¸ëƒ¥ `330.xxx` ë‹´ëŠ” ê²ƒë³´ë‹¤ëŠ” `.330...E3` í˜•íƒœë¡œ í‘œê¸°í•˜ë©´ ë‚œë…í™”ê°€ ì¡°ê¸ˆë” ì˜¬ë¼ê°ˆê±°ë¼ ìƒê°í–ˆë‹¤. ì°¸ê³ ë¡œ 0.x ì˜ ìˆ˜ì—ì„œ 0ì„ ìƒëµí•˜ëŠ”ê±´ C/C++ì—ì„œ ê°€ëŠ¥í•˜ë‹¤. 

1024ë„ 1024ë¼ê³  ì“°ëŠ”ê²ƒë³´ë‹¤ 1<<10ì´ë¼ ì“°ëŠ”ê²Œ ì¢‹ì•„ë³´ì˜€ê³  í•œ ìˆ  ë”ë– ì„œ 1<<0xAë¡œ 10ì„ 16ì§„ìˆ˜ë¡œ í‘œê¸°í–ˆë‹¤.

ì½”ë“œì˜ ê¸°ë³¸ ë™ì‘ì€ main í•¨ìˆ˜ì˜ ì¬ê·€ì´ë‹¤. ì‚¬ëŒë“¤ì´ ì˜ ëª¨ë¥´ëŠ” ì‚¬ì‹¤ì´ì§€ë§Œ mainë„ ì¬ê·€ê°€ ê°€ëŠ¥í•˜ë‹¤. ê·¸ë˜ì„œ mainì„ ans[1] ë§Œí¼ ë°˜ë³µí•˜ë©´ì„œ ì ˆë°˜ìœ¼ë¡œ ë‚˜ëˆ„ê³  ê·¸ê°’ì„ ì¶œë ¥í•˜ë©´ ì›ë³¸ ê¸€ìê°€ ë‚˜ì˜¨ë‹¤. ì¬ê·€ì˜ íŒì •ì€ ì‚¼í•­ì—°ì‚°ìë¥¼ ì‚¬ìš©í–ˆë‹¤.

ë‚œë…í™”ë¥¼ ì¡°ê¸ˆë„ í•˜ê¸° ìœ„í•´ì„œ --ans[1]ì„ --1[ans]ë¡œ ì¼ë‹¤. (C ìˆ˜ì—…ì„ ë˜ìƒˆê²¨ë³´ë©´ ì´ê²Œ ì™œ ê°€ëŠ¥í•œì§€ ìƒê°ë‚  ê²ƒì´ë‹¤.) ë˜í•œ ans[0] ì€ ìì—°ìŠ¤ëŸ½ê²Œ *ans ë°”ê¿”ì¨ë„ ìƒê´€ì´ ì—†ë‹¤.
